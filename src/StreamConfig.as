package  {		import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.events.Event;	import flash.display.DisplayObjectContainer;		public class StreamConfig extends MovieClip {		public var player_num:String;		public var strLoader:String;		public var moveStream:MoveStream;		public var playerNum:Number;				public function StreamConfig() {			chat.buttonMode = true;			makeActive.buttonMode = true;			refreshStream.buttonMode = true			closePlayer.buttonMode = true;			closeConfig.buttonMode = true;						chat.addEventListener(MouseEvent.CLICK, chatClickHandler);			makeActive.addEventListener(MouseEvent.CLICK, makeActiveClickHandler);			refreshStream.addEventListener(MouseEvent.CLICK, refreshStreamClickHandler);			closePlayer.addEventListener(MouseEvent.CLICK, closePlayerClickHandler);			closeConfig.addEventListener(MouseEvent.CLICK, closeConfigClickHandler);						chat.addEventListener(MouseEvent.ROLL_OVER, function(e:MouseEvent):void{e.target.gotoAndStop(2)});			chat.addEventListener(MouseEvent.ROLL_OUT, function(e:MouseEvent):void{e.target.gotoAndStop(1)});			makeActive.addEventListener(MouseEvent.ROLL_OVER, function(e:MouseEvent):void{e.target.gotoAndStop(2)});			makeActive.addEventListener(MouseEvent.ROLL_OUT, function(e:MouseEvent):void{e.target.gotoAndStop(1)});			refreshStream.addEventListener(MouseEvent.ROLL_OVER, function(e:MouseEvent):void{e.target.gotoAndStop(2)});			refreshStream.addEventListener(MouseEvent.ROLL_OUT, function(e:MouseEvent):void{e.target.gotoAndStop(1)});			closePlayer.addEventListener(MouseEvent.ROLL_OVER, function(e:MouseEvent):void{e.target.gotoAndStop(2)});			closePlayer.addEventListener(MouseEvent.ROLL_OUT, function(e:MouseEvent):void{e.target.gotoAndStop(1)});			closeConfig.addEventListener(MouseEvent.ROLL_OVER, function(e:MouseEvent):void{e.target.gotoAndStop(2)});			closeConfig.addEventListener(MouseEvent.ROLL_OUT, function(e:MouseEvent):void{e.target.gotoAndStop(1)});						chat.gotoAndStop(1);			makeActive.gotoAndStop(1);			refreshStream.gotoAndStop(1);			closePlayer.gotoAndStop(1);			closeConfig.gotoAndStop(1);						//hide some stuff			removeChild(refreshStream);			removeChild(chat);			removeChild(closePlayer);			//removeChild(sep);		}				public function setNum(n:Number, s:String):void {			playerNum = n;			strLoader = s;			arrangeConfig();		}								function arrangeConfig():void {			var h:Number;			var w:Number;			var scale:Number = 2;			var p:MovieClip = (this.parent as MovieClip);			var o:MovieClip = p.overlay;			//o = o.overlay as MovieClip;			if(playerNum == 1) {				scale = 1.1;			} 						makeActive.scaleX = makeActive.scaleY = scale;			chat.scaleX = chat.scaleY = scale;			refreshStream.scaleX = refreshStream.scaleY = scale;			closePlayer.scaleX = closePlayer.scaleY = scale;						chat.visible = false			refreshStream.visible = false;			closePlayer.visible = false;			bg.visible = false;			closeConfig.visible = false;						if(playerNum == 1) {				makeActive.visible = false;			} else {				makeActive.visible = true;			}										return;						// Beta version is below						if(playerNum == 1) {				//hide stuff				makeActive.visible = false;				closeConfig.visible = false;				closeConfig.x = 0;				makeActive.x = 0;				bg.alpha = 0;				//scale								//x,y				this.x = o.x + o.channel_name.x + o.channel_name.width;				this.y = o.y + 5;								bg.height = o.headerbg.height;				bg.width = o.width - o.channel_name.x - o.channel_name.width;				bg.x = 0;								refreshStream.x = bg.width - refreshStream.width - 15;				chat.x = refreshStream.x - chat.width - 15;								closePlayer.x = refreshStream.x + refreshStream.width + 30;				sep.x = closePlayer.x - 17;								chat.y = 20;				refreshStream.y = chat.y;				closePlayer.y = chat.y;				sep.y = chat.y;				sep.scaleY = sep.scaleX = .6;							} else {				makeActive.visible = true;				closeConfig.visible = true;				bg.alpha = 0;				bg.height = o.height - o.headerbg.height - 15;				bg.width = o.width / 2;				bg.x = o.width / 2;				this.x = o.x;				this.y = o.headerbg.y + o.headerbg.height + 15;																makeActive.x = bg.x + 40;				chat.x = makeActive.x + makeActive.width + 40;				refreshStream.x = chat.x + chat.width + 40;				//closePlayer.x = refreshStream.x + refreshStream.width + 80;				closeConfig.x = bg.x + bg.width - 40;				//sep.x = closePlayer.x - 40;				makeActive.scaleX = makeActive.scaleY = 2.5;				makeActive.y = bg.y + 50;				chat.y = makeActive.y + 10;				refreshStream.y = chat.y;				//closePlayer.y = chat.y;				closeConfig.y = 20;				//sep.y = chat.y;				//sep.scaleX = sep.scaleY = 1;			}		}		function closeConfigClickHandler(e:MouseEvent):void {			dispatchEvent(new Event("closeConfig", true, true));			this.visible = false;		}		function closePlayerClickHandler(e:MouseEvent):void {			dispatchEvent(new Event("closePlayer", true, true));			this.visible = false;		}		function makeActiveClickHandler(e:MouseEvent):void {			dispatchEvent(new Event("makeActive", true, true));			this.visible = false;		}				function refreshStreamClickHandler(e:MouseEvent):void		{			trace('STREAMRIOT: calling refreshStream');			dispatchEvent(new Event("refreshStream", true, true));		}		function chatClickHandler(e:MouseEvent):void		{			dispatchEvent(new Event("updateChat", true, true));			MovieClip(root).clearChats();			if (chat.currentFrame != 2)			{				chat.gotoAndStop(2);			}			else			{				chat.gotoAndStop(1);			}		}	}	}